<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Step Walk Sneaker</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
    />
    <link rel="stylesheet" href="/css/detail.css" />
    <link rel="stylesheet" href="/css/index.css" />
  </head>
  <body>
    <header>
      <div class="container">
        <div class="logo">
          <img src="/images/logo.png" alt="Logo c·ªßa Step Walk Sneaker" />
        </div>

        <nav>
          <ul>
            <li><a href="#">Nam</a></li>
            <li><a href="#">N·ªØ</a></li>
            <li><a href="#">Nh√£n Hi·ªáu</a></li>
            <li><a href="#">Th·ªÉ Thao</a></li>
          </ul>
        </nav>

        <div class="search-icons">
          <div class="search-box">
            <input
              type="text"
              placeholder="T√¨m Ki·∫øm"
              aria-label="T√¨m ki·∫øm s·∫£n ph·∫©m"
            />
            <button><i class="fa fa-search"></i></button>
          </div>
          <div class="icons">
            <a href="#" aria-label="Gi·ªè h√†ng"
              ><i class="fa-solid fa-cart-shopping"></i
            ></a>
            <a href="#" aria-label="T√†i kho·∫£n ng∆∞·ªùi d√πng"
              ><i class="fa-regular fa-user"></i
            ></a>
            <button class="mobile-menu-btn" aria-label="Toggle menu">
              <i class="fa-solid fa-bars"></i>
            </button>
          </div>
        </div>
      </div>

      <div class="mobile-menu">
        <ul>
          <li><a href="#">Nam</a></li>
          <li><a href="#">N·ªØ</a></li>
          <li><a href="#">Nh√£n Hi·ªáu</a></li>
          <li><a href="#">Th·ªÉ Thao</a></li>
        </ul>
      </div>
    </header>
    <div id="product-container">
        <div class="product-container">
          <div class="image-section">
            <div class="thumbnails">
              <% if (product.images && product.images.length > 0) { %>
                <% product.images.forEach((image, index) => { %>
                  <img src="<%= image %>" class="thumbnail" alt="Thumb <%= index + 1 %>" />
                <% }) %>
              <% } else { %>
                <p>Kh√¥ng c√≥ h√¨nh ·∫£nh</p>
              <% } %>
            </div>
            <div class="main-image-container">
              <img src="<%= product.images?.length ? product.images[0] : '/images/default.jpg' %>" class="main-image" alt="<%= product.name %>" />
            </div>
          </div>
      
          <div class="product-info">
            <h1 class="product-title"><%= product.title %></h1>
            <p class="product-category"><%= product.category || 'Kh√¥ng r√µ danh m·ª•c' %></p>
            <p class="product-price"><%= product.price.toLocaleString() %>‚Ç´</p>
      
            <h3 class="size-label">Ch·ªçn Size <span class="size-guide">üìè H∆∞·ªõng d·∫´n</span></h3>
            <div class="size-options">
              <% if (product.sizes?.length) { %>
                <% product.sizes.forEach(size => { %>
                  <button class="size-button">Size <%= size %></button>
                <% }) %>
              <% } else { %>
                <p>H·∫øt h√†ng</p>
              <% } %>
            </div>
      
            <button class="add-to-bag">Th√™m v√†o gi·ªè</button>
            <button class="favorite-button">‚ô° Y√™u th√≠ch</button>
      
            <div class="description-info">
              <p><%= product.description %></p>
              <ul>
                <% if (product.details) { %>
                  <li><strong>M√†u s·∫Øc:</strong> <%= product.details.color || "Kh√¥ng c√≥ th√¥ng tin" %></li>
                  <li><strong>Style:</strong> <%= product.details.style || "Kh√¥ng c√≥ th√¥ng tin" %></li>
                  <li><strong>Xu·∫•t x·ª©:</strong> <%= product.details.origin || "Kh√¥ng c√≥ th√¥ng tin" %></li>
                <% } else { %>
                  <li>Kh√¥ng c√≥ th√¥ng tin chi ti·∫øt s·∫£n ph·∫©m.</li>
                <% } %>
              </ul>
            </div>
      
            <div class="reviews-wrapper">
              <div class="review-container" onclick="toggleReviews()">
                <h3>ƒê√°nh gi√° (<%= product.reviews?.length || 0 %>)</h3>
                <span>‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</span>
                <span class="arrow">‚ñ≤</span>
              </div>
      
              <div class="review-section">
                <span>‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ 4.3 stars</span>
                <p class="write-review">Write a review</p>
                <% if (product.reviews?.length) { %>
                  <% product.reviews.forEach(review => { %>
                    <div class="review-content">
                      <p>‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ <%= review.username %> - <%= new Date(review.date).toLocaleDateString() %></p>
                      <p><%= review.comment %></p>
                    </div>
                  <% }) %>
                <% } else { %>
                  <p>Ch∆∞a c√≥ ƒë√°nh gi√° n√†o</p>
                <% } %>
              </div>
            </div>
          </div>
        </div>
      </div>
      

    <footer>
      <div class="footer-container">
        <div class="footer-info">
          <h4>Th√¥ng tin</h4>
          <ul>
            <li><a href="#">Gi·ªõi thi·ªáu</a></li>
            <li><a href="#">Ch√≠nh s√°ch ƒë·ªïi tr·∫£</a></li>
            <li><a href="#">Ch√≠nh s√°ch b·∫£o m·∫≠t</a></li>
            <li><a href="#">Li√™n h·ªá</a></li>
          </ul>
        </div>
        <div class="footer-contact">
          <h4>Li√™n H·ªá</h4>
          <p>Email: contact@stepwalksneaker.com</p>
          <p>ƒêi·ªán tho·∫°i: 0123-456-789</p>
        </div>
        <div class="footer-social">
          <h4>K·∫øt n·ªëi v·ªõi ch√∫ng t√¥i</h4>
          <a href="#"><i class="fab fa-facebook-f"></i></a>
          <a href="#"><i class="fab fa-instagram"></i></a>
          <a href="#"><i class="fab fa-twitter"></i></a>
          <a href="#"><i class="fab fa-youtube"></i></a>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2024 Step Walk Sneaker. T·∫•t c·∫£ quy·ªÅn ƒë∆∞·ª£c b·∫£o l∆∞u.</p>
      </div>
    </footer>

    <script>
      function toggleReviews() {
        const reviewSection = document.querySelector(".review-section");
        const arrow = document.querySelector(".arrow");
        reviewSection.classList.toggle("show");
        arrow.classList.toggle("collapsed");
      }
      // Ch·ªçn n√∫t y√™u th√≠ch
      const favoriteButton = document.querySelector(".favorite-button");

      // Th√™m s·ª± ki·ªán click v√†o n√∫t y√™u th√≠ch
      favoriteButton.addEventListener("click", () => {
        // Toggling class 'active' khi nh·∫•n v√†o n√∫t
        favoriteButton.classList.toggle("active");

        // C·∫≠p nh·∫≠t vƒÉn b·∫£n trong n√∫t t√πy v√†o tr·∫°ng th√°i
        if (favoriteButton.classList.contains("active")) {
          favoriteButton.textContent = "Favourite"; // Khi y√™u th√≠ch
        } else {
          favoriteButton.textContent = "‚ô° Favourite"; // Khi kh√¥ng y√™u th√≠ch
        }
      });

      // Ch·ªçn t·∫•t c·∫£ c√°c n√∫t size
      const sizeButtons = document.querySelectorAll(".size-button");

      // Th√™m s·ª± ki·ªán click v√†o m·ªói n√∫t
      sizeButtons.forEach((button) => {
        button.addEventListener("click", () => {
          // Lo·∫°i b·ªè class 'selected' t·ª´ t·∫•t c·∫£ c√°c n√∫t
          sizeButtons.forEach((btn) => btn.classList.remove("selected"));

          // Th√™m class 'selected' v√†o n√∫t m√† ng∆∞·ªùi d√πng ƒë√£ nh·∫•n
          button.classList.add("selected");
        });
      });

      const thumbnails = document.querySelectorAll(".thumbnail");
      const mainImage = document.querySelector(".main-image");

      mainImage.src = thumbnails[0].src;

      thumbnails.forEach((thumbnail) => {
        thumbnail.addEventListener("mouseenter", () => {
          mainImage.src = thumbnail.src;
        });
      });
      document.addEventListener("DOMContentLoaded", function () {
        const mobileMenuBtn = document.querySelector(".mobile-menu-btn");
        const mobileMenu = document.querySelector(".mobile-menu");
        const menuIcon = mobileMenuBtn.querySelector("i");

        // Toggle menu
        mobileMenuBtn.addEventListener("click", function (e) {
          e.stopPropagation(); // NgƒÉn s·ª± ki·ªán click lan ra document
          mobileMenu.classList.toggle("active");

          // Toggle icon
          if (mobileMenu.classList.contains("active")) {
            menuIcon.classList.remove("fa-bars");
            menuIcon.classList.add("fa-times");
          } else {
            menuIcon.classList.remove("fa-times");
            menuIcon.classList.add("fa-bars");
          }
        });

        // ƒê√≥ng menu khi click b√™n ngo√†i
        document.addEventListener("click", function (e) {
          if (
            !mobileMenu.contains(e.target) &&
            !mobileMenuBtn.contains(e.target)
          ) {
            mobileMenu.classList.remove("active");
            menuIcon.classList.remove("fa-times");
            menuIcon.classList.add("fa-bars");
          }
        });

        // NgƒÉn s·ª± ki·ªán click trong menu lan ra document
        mobileMenu.addEventListener("click", function (e) {
          e.stopPropagation();
        });

        // ƒê√≥ng menu khi click v√†o links
        const mobileMenuLinks = mobileMenu.querySelectorAll("a");
        mobileMenuLinks.forEach((link) => {
          link.addEventListener("click", () => {
            mobileMenu.classList.remove("active");
            menuIcon.classList.remove("fa-times");
            menuIcon.classList.add("fa-bars");
          });
        });
      });
    </script>
  </body>
</html>
